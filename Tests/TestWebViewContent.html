<html>
<head>
    <title>Test Title</title>
    <script type="text/javascript">
        
        function CustomTestObject () {
            this.prop1 = "prop1";
            this.length = 29;
            this.stuff = [];
        }
        
        CustomTestObject.prototype.addObject = function (add) {
            this.stuff.push(add);
        };
        
        CustomTestObject.prototype.item = function (number) {
            return this.stuff[number];
        }
        
        CustomTestObject.prototype.removeLastObject = function () {
            this.stuff.pop();
            this.length -= 1;
        }
    </script>
    <script type="text/javascript">
        
        // Unit Test functions
        
        // This tests a simple call with no arguments
        function testCallback () {
            GAJavaScript.performSelector('callbackNoArgs');
        }
        
        function testCallbackOneArg () {
            GAJavaScript.performSelector('callbackOneArg:', "Hello World");            
        }
        
        function testCallbackTypedArgs () {
            GAJavaScript.performSelector('callbackTypedArgs:boolArg:intArg:floatArg:', new Date(), true, 200000, 1.5);
        }
        
        function testMultipleCallbacks () {
            GAJavaScript.performSelector('callbackNoArgs');
            GAJavaScript.performSelector('callbackOneArg:', "2nd call in testMultipleCallbacks");                        
        }
		
		function testCallbackAsArgument (callback) {			
			callback('arg1', 'arg2', new Date());
		}
        
        function testCallbackWithArrays (callback) {
            callback('arg1', [1, 2 ,3], new Date());
        }
        
        function testThrowException () {
            return window.fake.object;  // Will throw a TypeError
        }
		
		// Calls ObjC method and passes it a JavaScript callback which ObjC will call asynchronously.
		function testCallbackFromJSToObjC () {
            GAJavaScript.performSelector('callbackFromJSToObjC:', 'jsCallbackFunction');
        }

		// This function will be called by ObjC
		function jsCallbackFunction(val1, val2) {
           GAJavaScript.performSelector('informReceivedJSCallbackWithFirstValue:secondValue:', val1, val2);
        }

    </script>
</head>
<body>
    <p>Hello World</p>
</body>
</html>